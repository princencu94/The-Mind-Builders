{"ast":null,"code":"import { objectWithoutPropertiesLoose as _objectWithoutPropertiesLoose, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { useRef } from 'react';\nimport { render } from '../../utils/render.esm.js';\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete.esm.js';\nimport { useFocusTrap, Features } from '../../hooks/use-focus-trap.esm.js';\nvar DEFAULT_FOCUS_TRAP_TAG = 'div';\n\nfunction FocusTrap(props) {\n  var container = useRef(null);\n\n  var initialFocus = props.initialFocus,\n      passthroughProps = _objectWithoutPropertiesLoose(props, [\"initialFocus\"]);\n\n  var ready = useServerHandoffComplete();\n  useFocusTrap(container, ready ? Features.All : Features.None, {\n    initialFocus: initialFocus\n  });\n  var propsWeControl = {\n    ref: container\n  };\n  return render({\n    props: _extends({}, passthroughProps, propsWeControl),\n    defaultTag: DEFAULT_FOCUS_TRAP_TAG,\n    name: 'FocusTrap'\n  });\n}\n\nexport { FocusTrap };","map":{"version":3,"mappings":";;;;;AAaA,IAAIA,sBAAsB,GAAG,KAA7B;;SAEgBC,UACdC;EAEA,IAAIC,SAAS,GAAGC,MAAM,CAAqB,IAArB,CAAtB;;MACMC,eAAsCH,MAAtCG;MAAiBC,iDAAqBJ,KAArBI,EAAqBJ,gBAArBI;;EAEvB,IAAIC,KAAK,GAAGC,wBAAwB,EAApC;EACAC,YAAY,CAACN,SAAD,EAAYI,KAAK,GAAGG,QAAiB,CAACC,GAArB,GAA2BD,QAAiB,CAACE,IAA9D,EAAoE;IAAEP,YAAY,EAAZA;EAAF,CAApE,CAAZI;EAEA,IAAII,cAAc,GAAG;IACnBC,GAAG,EAAEX;EADc,CAArB;EAIA,OAAOY,MAAM,CAAC;IACZb,KAAK,eAAOI,gBAAP,EAA4BO,cAA5B,CADO;IAEZG,UAAU,EAAEhB,sBAFA;IAGZiB,IAAI,EAAE;EAHM,CAAD,CAAb;AAKD","names":["DEFAULT_FOCUS_TRAP_TAG","FocusTrap","props","container","useRef","initialFocus","passthroughProps","ready","useServerHandoffComplete","useFocusTrap","FocusTrapFeatures","All","None","propsWeControl","ref","render","defaultTag","name"],"sources":["../../../src/components/focus-trap/focus-trap.tsx"],"sourcesContent":["import {\n  useRef,\n\n  // Types\n  ElementType,\n  MutableRefObject,\n} from 'react'\n\nimport { Props } from '../../types'\nimport { render } from '../../utils/render'\nimport { useFocusTrap, Features as FocusTrapFeatures } from '../../hooks/use-focus-trap'\nimport { useServerHandoffComplete } from '../../hooks/use-server-handoff-complete'\n\nlet DEFAULT_FOCUS_TRAP_TAG = 'div' as const\n\nexport function FocusTrap<TTag extends ElementType = typeof DEFAULT_FOCUS_TRAP_TAG>(\n  props: Props<TTag> & { initialFocus?: MutableRefObject<HTMLElement | null> }\n) {\n  let container = useRef<HTMLElement | null>(null)\n  let { initialFocus, ...passthroughProps } = props\n\n  let ready = useServerHandoffComplete()\n  useFocusTrap(container, ready ? FocusTrapFeatures.All : FocusTrapFeatures.None, { initialFocus })\n\n  let propsWeControl = {\n    ref: container,\n  }\n\n  return render({\n    props: { ...passthroughProps, ...propsWeControl },\n    defaultTag: DEFAULT_FOCUS_TRAP_TAG,\n    name: 'FocusTrap',\n  })\n}\n"]},"metadata":{},"sourceType":"module"}