{"ast":null,"code":"import { useState, useRef } from 'react';\nimport { useIsoMorphicEffect } from './use-iso-morphic-effect.esm.js';\n\nfunction useComputed(cb, dependencies) {\n  var _useState = useState(cb),\n      value = _useState[0],\n      setValue = _useState[1];\n\n  var cbRef = useRef(cb);\n  useIsoMorphicEffect(function () {\n    cbRef.current = cb;\n  }, [cb]);\n  useIsoMorphicEffect(function () {\n    return setValue(cbRef.current);\n  }, [cbRef, setValue].concat(dependencies));\n  return value;\n}\n\nexport { useComputed };","map":{"version":3,"mappings":";;;SAGgBA,YAAeC,IAAaC;kBAClBC,QAAQ,CAACF,EAAD;MAA3BG;MAAOC;;EACZ,IAAIC,KAAK,GAAGC,MAAM,CAACN,EAAD,CAAlB;EACAO,mBAAmB,CAAC;IAClBF,KAAK,CAACG,OAANH,GAAgBL,EAAhBK;EADiB,GAEhB,CAACL,EAAD,CAFgB,CAAnBO;EAGAA,mBAAmB,CAAC;IAAA,OAAMH,QAAQ,CAACC,KAAK,CAACG,OAAP,CAAd;EAAD,IAAiCH,KAAjC,EAAwCD,QAAxC,SAAqDH,YAArD,EAAnBM;EACA,OAAOJ,KAAP;AACD","names":["useComputed","cb","dependencies","useState","value","setValue","cbRef","useRef","useIsoMorphicEffect","current"],"sources":["../../src/hooks/use-computed.ts"],"sourcesContent":["import { useState, useRef } from 'react'\nimport { useIsoMorphicEffect } from './use-iso-morphic-effect'\n\nexport function useComputed<T>(cb: () => T, dependencies: React.DependencyList) {\n  let [value, setValue] = useState(cb)\n  let cbRef = useRef(cb)\n  useIsoMorphicEffect(() => {\n    cbRef.current = cb\n  }, [cb])\n  useIsoMorphicEffect(() => setValue(cbRef.current), [cbRef, setValue, ...dependencies])\n  return value\n}\n"]},"metadata":{},"sourceType":"module"}